<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>CodeComparator v0.1 - Inicio de Sesión</title>
	<link type="text/css" rel="stylesheet" href="css/main.css" />
	<style>
.input_username_password {
	border-radius: 8px;
	height: 30px;
	width: 200px;
}

.button_login {
	width: 100%;
	font-size: 17px;
	font-weight: normal;
	border-radius: 8px;
	background: #529E81;
	border: 0px;
	color: white;
	text-shadow: none;
	box-shadow: none;
}

.link_forgot_password {
	position: absolute;
	width: 20px;
	height: 20px;
	background: url(../img/forgot_password.png) 50% 50% no-repeat;
	top: calc(34%);
	right: calc(15%);
	margin: -8px 0 0 0;
	border-radius: 50%;
	overflow: hidden
}

.link_register {
	text-decoration: none;
	color: #fff;
	opacity: .87;
	font-size: 12px;
	text-shadow: 0 1px 1px rgba(0, 0, 0, 0.8);
}
</style>
</h:head>

<h:body style="background:url(../img/code.jpeg); text-align:center">
	<hr />
	<br />
	<br />
	<br />
	<br />
	<br />
	<p:growl id="mensajes" showDetail="true" sticky="true" />
	<h:form>
		<h1 style="color: #ededed;">CodeComparator v0.1</h1>
		<div
			style="margin: 0 auto; position: relative; width: 220px; padding: 0px 30px 30px;">
			<table>
				<tbody>
					<tr>
						<td><div>
								<p:inputText id="username" value="#{loginController.username}"
									styleClass="input_username_password" />
								<p:watermark value="Usuario" for="username" />
							</div></td>
					</tr>
					<tr>
						<td>
							<div>
								<p:password id="password" value="#{loginController.password}"
									styleClass="input_username_password">
									<a href="#" title="Recuperar contraseña ... pronto"
										class="link_forgot_password"></a>
								</p:password>
								<p:watermark value="Password" for="password" />
							</div>
						</td>
					</tr>
					<tr>
						<td>
							<div>
								<p:commandButton value="Iniciar Sesión"
									actionListener="#{loginController.init}" update=":mensajes"
									oncomplete="manejarLogin(xhr, status, args)"
									styleClass="button_login" />
							</div>
						</td>
					</tr>
					<tr>
						<td><div>
								<br />
								<p:commandLink styleClass="link_register" title="... pronto">
									<strong>Registrarse</strong> para crear cuenta</p:commandLink>
							</div></td>
					</tr>
				</tbody>
			</table>
		</div>
	</h:form>
</h:body>
<script type="text/javascript">
  //<![CDATA[
  function manejarLogin(xhr, status, args) {
    if (!args.validationFailed && args.login) {
      setTimeout(function() {
        window.location = args.view;
      }, 1300);
    }
  }
//]]>
</script>
</html>